<!DOCTYPE html>
<html>
<head>
    <title>Celeste WASM</title>
    <script src="autoload.js"></script>
    <style>
        body, html, iframe {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            border: none;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <iframe src="celeste.html" id="gameFrame"></iframe>
    <script>
        // Wait for the iframe to load
        document.getElementById('gameFrame').onload = function() {
            // Get the iframe's window object
            const gameWindow = this.contentWindow;
            
            // Forward our custom events to the game iframe
            window.addEventListener('fileSelected', function(event) {
                gameWindow.dispatchEvent(new CustomEvent('fileSelected', {
                    detail: event.detail
                }));
            });
        };
    </script>
</body>
</html> 